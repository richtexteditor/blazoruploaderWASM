<div class="top-row ps-3 navbar navbar-dark">
	<div class="container-fluid">
		<a class="navbar-brand" href="">BlazorUploaderDemoWasm</a>
		<button title="Navigation menu" class="navbar-toggler" @onclick="ToggleNavMenu">
			<span class="navbar-toggler-icon"></span>
		</button>
	</div>
</div>

<div class="@NavMenuCssClass" @onclick="ToggleNavMenu">
	<nav class="flex-column">
		<div class="nav-item px-3">
			<NavLink class="nav-link" href="" Match="NavLinkMatch.All">
				<span class="oi oi-home" aria-hidden="true"></span> Home
			</NavLink>
		</div>

		<div class="nav-item px-3">
			<NavLink class="nav-link" href="/demo/simplebutton">
				<span class="oi oi-list-rich" aria-hidden="true"></span> Demo
			</NavLink>
		</div>
		@if (nav.Uri.Contains("/demo/"))
		{
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/simplebutton">
					Simple Button
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/multiplefiles">
					Multiple Files
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/imagebutton">
					Image Button
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/dragdroparea">
					Drag Drop Area
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/dragdroparea2">
					Drag Drop Area2
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/dragdroparea3">
					Drag Drop Area3
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/dragdroparea4">
					Drag Drop Area4
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/dragdroparea5">
					Drag Drop Area5
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/dragdropbody">
					Drag Drop Body
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/LargeFileUpload">
					Large File Upload
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/maxsizekb">
					MaxSizeKB
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/acceptmimetypes">
					AcceptMimeTypes
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/acceptextensions">
					AcceptExtensions
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/initialfiles">
					Initial Files
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/customlistview">
					Custom ListView
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/webkitdirectory">
					Folder Upload
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/demo/readuploadeddata">
					Read Uploaded Data
				</NavLink>
			</div>

		}

		<div class="nav-item px-3">
			<NavLink class="nav-link" href="/docs/setup">
				<span class="oi oi-list-rich" aria-hidden="true"></span> Documents
			</NavLink>
		</div>
		@if (nav.Uri.Contains("/docs/"))
		{
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/docs/setup">
					Setup BlazorUploader
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/docs/processevent">
					Process Event
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/docs/myuploaderstate">
					MyUploaderState
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/docs/savetoserver">
					Save To Server
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/docs/mylistview_stylea">
					Custom ListView
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/docs/validation">
					File Validation
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/docs/submitstate">
					Update Submit UI
				</NavLink>
			</div>
			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/docs/previewimage">
					Preview Image
				</NavLink>
			</div>

			<div class="nav-item px-5">
				<NavLink class="nav-link" href="/docs/advancedsamples">
					Advanced Samples
				</NavLink>
			</div>

		}


	</nav>

</div>

@inject Microsoft.AspNetCore.Components.NavigationManager nav

@code {

	private bool collapseNavMenu = true;

	private string? NavMenuCssClass => collapseNavMenu ? "collapse" : null;

	private void ToggleNavMenu()
	{
		collapseNavMenu = !collapseNavMenu;
	}

	protected override void OnInitialized()
	{
		base.OnInitialized();

		ChunkSender.BaseUri = new Uri(nav.BaseUri);

		nav.LocationChanged += delegate
		{
			StateHasChanged();
		};
	}
}
